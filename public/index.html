<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Free Invoice Generator - Create Professional PDF Invoices Online | InvoiceFlow</title>
    <meta name="description" content="Create professional invoices in seconds. Free online invoice generator with PDF export. No signup required. Perfect for freelancers and small businesses.">
    <meta name="keywords" content="invoice generator, free invoice, create invoice, PDF invoice, invoice template, freelance invoice, small business invoice">
    <meta name="author" content="InvoiceFlow">
    <meta name="robots" content="index, follow">

    <!-- Open Graph / Social -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="Free Invoice Generator - Create Professional PDF Invoices">
    <meta property="og:description" content="Create professional invoices in seconds. Free online invoice generator with PDF export. No signup required.">
    <meta property="og:image" content="/og-image.png">
    <meta property="og:url" content="https://invoiceflow.app">

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Free Invoice Generator - Create Professional PDF Invoices">
    <meta name="twitter:description" content="Create professional invoices in seconds. Free online invoice generator with PDF export.">

    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ðŸ“„</text></svg>">

    <!-- Canonical -->
    <link rel="canonical" href="https://invoiceflow.app">

    <!-- Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "InvoiceFlow",
        "description": "Free online invoice generator for freelancers and small businesses",
        "url": "https://invoiceflow.app",
        "applicationCategory": "BusinessApplication",
        "operatingSystem": "Any",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "USD"
        }
    }
    </script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #6366f1;
            --primary-dark: #4f46e5;
            --primary-light: #818cf8;
            --secondary: #0ea5e9;
            --gray-50: #f9fafb;
            --gray-100: #f3f4f6;
            --gray-200: #e5e7eb;
            --gray-300: #d1d5db;
            --gray-400: #9ca3af;
            --gray-500: #6b7280;
            --gray-600: #4b5563;
            --gray-700: #374151;
            --gray-800: #1f2937;
            --gray-900: #111827;
            --green-500: #22c55e;
            --red-500: #ef4444;
            --yellow-500: #eab308;
            --gradient: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            background: var(--gray-50);
            color: var(--gray-800);
            line-height: 1.6;
        }

        /* Header */
        .header {
            background: white;
            border-bottom: 1px solid var(--gray-200);
            padding: 0.875rem 2rem;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-content {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 1.375rem;
            font-weight: 700;
            background: var(--gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .logo-icon {
            width: 28px;
            height: 28px;
            background: var(--gradient);
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 0.875rem;
            -webkit-text-fill-color: white;
        }

        .header-actions {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .btn-upgrade {
            background: var(--gradient);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            font-weight: 600;
            font-size: 0.875rem;
            border: none;
            cursor: pointer;
            transition: opacity 0.2s, transform 0.2s;
        }

        .btn-upgrade:hover {
            opacity: 0.9;
            transform: translateY(-1px);
        }

        /* Hero Section */
        .hero {
            background: var(--gradient);
            color: white;
            padding: 3rem 2rem;
            text-align: center;
        }

        .hero h1 {
            font-size: 2.25rem;
            font-weight: 800;
            margin-bottom: 0.75rem;
        }

        .hero p {
            font-size: 1.125rem;
            opacity: 0.9;
            max-width: 600px;
            margin: 0 auto 1.5rem;
        }

        .hero-badges {
            display: flex;
            justify-content: center;
            gap: 1.5rem;
            flex-wrap: wrap;
        }

        .hero-badge {
            display: flex;
            align-items: center;
            gap: 0.375rem;
            font-size: 0.875rem;
            opacity: 0.9;
        }

        /* Main Layout */
        .main-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
        }

        @media (max-width: 1200px) {
            .main-container {
                grid-template-columns: 1fr;
            }
        }

        /* Form Panel */
        .form-panel {
            background: white;
            border-radius: 16px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1), 0 4px 12px rgba(0,0,0,0.05);
            padding: 1.5rem;
        }

        .section {
            margin-bottom: 1.5rem;
        }

        .section:last-child {
            margin-bottom: 0;
        }

        .section-title {
            font-size: 0.9375rem;
            font-weight: 600;
            color: var(--gray-700);
            margin-bottom: 0.875rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--gray-100);
        }

        .form-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 0.875rem;
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        .form-group.full-width {
            grid-column: 1 / -1;
        }

        label {
            font-size: 0.8125rem;
            font-weight: 500;
            color: var(--gray-600);
            margin-bottom: 0.25rem;
        }

        input, textarea, select {
            padding: 0.5rem 0.75rem;
            border: 1px solid var(--gray-300);
            border-radius: 8px;
            font-size: 0.875rem;
            transition: border-color 0.2s, box-shadow 0.2s;
        }

        input:focus, textarea:focus, select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
        }

        textarea {
            resize: vertical;
            min-height: 70px;
        }

        /* Template Selector */
        .template-selector {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 0.75rem;
            margin-bottom: 1rem;
        }

        .template-option {
            border: 2px solid var(--gray-200);
            border-radius: 10px;
            padding: 0.75rem;
            cursor: pointer;
            transition: all 0.2s;
            text-align: center;
            position: relative;
        }

        .template-option:hover {
            border-color: var(--gray-300);
        }

        .template-option.active {
            border-color: var(--primary);
            background: rgba(99, 102, 241, 0.05);
        }

        .template-option.pro {
            opacity: 0.7;
        }

        .template-option.pro::after {
            content: 'PRO';
            position: absolute;
            top: -6px;
            right: -6px;
            background: var(--gradient);
            color: white;
            font-size: 0.625rem;
            font-weight: 700;
            padding: 0.125rem 0.375rem;
            border-radius: 4px;
        }

        .template-preview {
            width: 100%;
            height: 60px;
            border-radius: 6px;
            margin-bottom: 0.375rem;
        }

        .template-name {
            font-size: 0.75rem;
            font-weight: 500;
            color: var(--gray-700);
        }

        /* Line Items */
        .line-items-header {
            display: grid;
            grid-template-columns: 2fr 1fr 1fr 1fr 36px;
            gap: 0.5rem;
            padding: 0.625rem 0.75rem;
            background: var(--gray-50);
            border-radius: 8px 8px 0 0;
            font-size: 0.75rem;
            font-weight: 600;
            color: var(--gray-500);
        }

        .line-item {
            display: grid;
            grid-template-columns: 2fr 1fr 1fr 1fr 36px;
            gap: 0.5rem;
            padding: 0.5rem 0.75rem;
            border: 1px solid var(--gray-200);
            border-top: none;
            align-items: center;
        }

        .line-item:last-of-type {
            border-radius: 0 0 8px 8px;
        }

        .line-item input {
            padding: 0.375rem 0.5rem;
            font-size: 0.8125rem;
        }

        .line-item-total {
            font-weight: 600;
            color: var(--gray-700);
            text-align: right;
            font-size: 0.875rem;
        }

        .btn-remove-item {
            background: none;
            border: none;
            color: var(--gray-400);
            cursor: pointer;
            padding: 0.25rem;
            border-radius: 4px;
            transition: color 0.2s, background 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .btn-remove-item:hover {
            color: var(--red-500);
            background: rgba(239, 68, 68, 0.1);
        }

        .btn-add-item {
            margin-top: 0.5rem;
            padding: 0.5rem 0.875rem;
            background: var(--gray-50);
            border: 1px dashed var(--gray-300);
            border-radius: 8px;
            color: var(--gray-600);
            font-size: 0.8125rem;
            font-weight: 500;
            cursor: pointer;
            transition: background 0.2s, border-color 0.2s;
            width: 100%;
        }

        .btn-add-item:hover {
            background: var(--gray-100);
            border-color: var(--gray-400);
        }

        /* Totals */
        .totals-config {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 0.75rem;
            margin-top: 0.75rem;
            padding: 0.875rem;
            background: var(--gray-50);
            border-radius: 8px;
        }

        /* Buttons */
        .btn {
            padding: 0.625rem 1.25rem;
            border-radius: 8px;
            font-size: 0.9375rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            border: none;
        }

        .btn-primary {
            background: var(--gradient);
            color: white;
        }

        .btn-primary:hover {
            opacity: 0.9;
            transform: translateY(-1px);
        }

        .btn-secondary {
            background: white;
            color: var(--gray-700);
            border: 1px solid var(--gray-300);
        }

        .btn-secondary:hover {
            background: var(--gray-50);
        }

        .actions {
            display: flex;
            gap: 0.75rem;
            margin-top: 1.5rem;
        }

        .actions .btn {
            flex: 1;
        }

        /* Preview Panel */
        .preview-panel {
            position: sticky;
            top: 80px;
            height: fit-content;
        }

        .preview-container {
            background: white;
            border-radius: 16px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1), 0 4px 12px rgba(0,0,0,0.05);
            overflow: hidden;
        }

        .preview-header {
            padding: 0.875rem 1.25rem;
            background: var(--gray-50);
            border-bottom: 1px solid var(--gray-200);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .preview-title {
            font-weight: 600;
            color: var(--gray-700);
            font-size: 0.9375rem;
        }

        /* Invoice Preview */
        .invoice-preview {
            padding: 1.5rem;
            min-height: 500px;
            background: white;
            font-size: 0.875rem;
        }

        .invoice-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 1.5rem;
        }

        .invoice-title {
            font-size: 1.75rem;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 0.25rem;
        }

        .invoice-number {
            color: var(--gray-500);
            font-size: 0.875rem;
        }

        .invoice-dates {
            text-align: right;
        }

        .invoice-dates p {
            margin-bottom: 0.125rem;
            font-size: 0.8125rem;
        }

        .parties {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1.5rem;
            margin-bottom: 1.5rem;
        }

        .party h3 {
            font-size: 0.6875rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: var(--gray-400);
            margin-bottom: 0.375rem;
        }

        .party-name {
            font-weight: 600;
            font-size: 0.9375rem;
            color: var(--gray-800);
        }

        .party-details {
            font-size: 0.8125rem;
            color: var(--gray-600);
            white-space: pre-line;
        }

        /* Invoice Table */
        .invoice-table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 1.25rem;
        }

        .invoice-table th {
            background: var(--gray-50);
            padding: 0.5rem 0.75rem;
            text-align: left;
            font-size: 0.6875rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: var(--gray-500);
            font-weight: 600;
        }

        .invoice-table th:last-child {
            text-align: right;
        }

        .invoice-table td {
            padding: 0.625rem 0.75rem;
            border-bottom: 1px solid var(--gray-100);
            font-size: 0.8125rem;
        }

        .invoice-table td:last-child {
            text-align: right;
            font-weight: 500;
        }

        /* Invoice Totals */
        .invoice-totals {
            display: flex;
            justify-content: flex-end;
        }

        .totals-table {
            width: 200px;
        }

        .totals-table .row {
            display: flex;
            justify-content: space-between;
            padding: 0.375rem 0;
            font-size: 0.8125rem;
        }

        .totals-table .row.total {
            border-top: 2px solid var(--gray-200);
            margin-top: 0.375rem;
            padding-top: 0.5rem;
            font-size: 1rem;
            font-weight: 700;
        }

        .totals-table .row.total .amount {
            color: var(--primary);
        }

        /* Invoice Notes */
        .invoice-notes {
            margin-top: 1.5rem;
            padding-top: 1rem;
            border-top: 1px solid var(--gray-200);
        }

        .invoice-notes h4 {
            font-size: 0.6875rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: var(--gray-400);
            margin-bottom: 0.375rem;
        }

        .invoice-notes p {
            font-size: 0.8125rem;
            color: var(--gray-600);
        }

        /* Watermark */
        .invoice-footer {
            margin-top: 2rem;
            padding-top: 0.75rem;
            border-top: 1px solid var(--gray-100);
            text-align: center;
            font-size: 0.6875rem;
            color: var(--gray-400);
        }

        .invoice-footer a {
            color: var(--primary);
            text-decoration: none;
        }

        /* Pro Modal */
        .modal-overlay {
            display: none;
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.5);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            padding: 2rem;
        }

        .modal-overlay.active {
            display: flex;
        }

        .modal {
            background: white;
            border-radius: 20px;
            max-width: 480px;
            width: 100%;
            overflow: hidden;
            animation: modalIn 0.3s ease;
        }

        @keyframes modalIn {
            from {
                opacity: 0;
                transform: scale(0.95);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        .modal-header {
            background: var(--gradient);
            color: white;
            padding: 2rem;
            text-align: center;
        }

        .modal-header h2 {
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
        }

        .modal-header p {
            opacity: 0.9;
            font-size: 0.9375rem;
        }

        .modal-body {
            padding: 2rem;
        }

        .pricing-toggle {
            display: flex;
            justify-content: center;
            gap: 0.5rem;
            margin-bottom: 1.5rem;
            background: var(--gray-100);
            padding: 0.25rem;
            border-radius: 8px;
        }

        .pricing-toggle button {
            flex: 1;
            padding: 0.5rem 1rem;
            border: none;
            background: none;
            border-radius: 6px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
        }

        .pricing-toggle button.active {
            background: white;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }

        .price-display {
            text-align: center;
            margin-bottom: 1.5rem;
        }

        .price {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--gray-900);
        }

        .price-period {
            color: var(--gray-500);
            font-size: 0.9375rem;
        }

        .price-savings {
            background: rgba(34, 197, 94, 0.1);
            color: var(--green-500);
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.8125rem;
            font-weight: 500;
            display: inline-block;
            margin-top: 0.5rem;
        }

        .pro-features {
            list-style: none;
            margin-bottom: 1.5rem;
        }

        .pro-features li {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.625rem 0;
            font-size: 0.9375rem;
        }

        .pro-features .check {
            color: var(--green-500);
            font-weight: bold;
        }

        .btn-checkout {
            width: 100%;
            padding: 0.875rem;
            font-size: 1rem;
            margin-bottom: 0.75rem;
        }

        .modal-footer {
            text-align: center;
            font-size: 0.8125rem;
            color: var(--gray-500);
        }

        .btn-close-modal {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: rgba(255,255,255,0.2);
            border: none;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            color: white;
            cursor: pointer;
            font-size: 1.25rem;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Features Section */
        .features-section {
            background: white;
            padding: 4rem 2rem;
            border-top: 1px solid var(--gray-200);
        }

        .features-container {
            max-width: 1000px;
            margin: 0 auto;
        }

        .features-title {
            text-align: center;
            font-size: 1.75rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            color: var(--gray-900);
        }

        .features-subtitle {
            text-align: center;
            color: var(--gray-500);
            margin-bottom: 2.5rem;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 2rem;
        }

        @media (max-width: 768px) {
            .features-grid {
                grid-template-columns: 1fr;
            }
        }

        .feature-card {
            text-align: center;
            padding: 1.5rem;
        }

        .feature-icon {
            width: 48px;
            height: 48px;
            background: var(--gray-100);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1rem;
            font-size: 1.5rem;
        }

        .feature-card h3 {
            font-size: 1.0625rem;
            margin-bottom: 0.5rem;
            color: var(--gray-800);
        }

        .feature-card p {
            font-size: 0.9375rem;
            color: var(--gray-500);
        }

        /* Footer */
        .site-footer {
            background: var(--gray-900);
            color: white;
            padding: 3rem 2rem;
            text-align: center;
        }

        .footer-logo {
            font-size: 1.25rem;
            font-weight: 700;
            margin-bottom: 1rem;
        }

        .footer-links {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin-bottom: 1.5rem;
        }

        .footer-links a {
            color: var(--gray-400);
            text-decoration: none;
            font-size: 0.875rem;
        }

        .footer-links a:hover {
            color: white;
        }

        .footer-copy {
            color: var(--gray-500);
            font-size: 0.8125rem;
        }

        /* Save indicator */
        .save-indicator {
            font-size: 0.75rem;
            color: var(--green-500);
            display: flex;
            align-items: center;
            gap: 0.25rem;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .hero h1 {
                font-size: 1.75rem;
            }

            .main-container {
                padding: 1rem;
            }

            .form-grid {
                grid-template-columns: 1fr;
            }

            .line-items-header {
                display: none;
            }

            .line-item {
                grid-template-columns: 1fr;
                gap: 0.375rem;
            }

            .parties {
                grid-template-columns: 1fr;
            }

            .template-selector {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        /* Print */
        @media print {
            .header, .hero, .form-panel, .preview-header, .features-section, .site-footer, .modal-overlay {
                display: none !important;
            }

            .main-container {
                display: block;
                padding: 0;
            }

            .preview-panel {
                position: static;
            }

            .preview-container {
                box-shadow: none;
            }
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="header-content">
            <div class="logo">
                <div class="logo-icon">IF</div>
                InvoiceFlow
            </div>
            <div class="header-actions">
                <div class="save-indicator" id="saveIndicator">
                    <svg width="14" height="14" fill="currentColor" viewBox="0 0 16 16">
                        <path d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"/>
                    </svg>
                    <span>Saved</span>
                </div>
                <button class="btn-upgrade" onclick="openProModal()">Upgrade to Pro</button>
            </div>
        </div>
    </header>

    <section class="hero">
        <h1>Create Professional Invoices in Seconds</h1>
        <p>Free invoice generator for freelancers and small businesses. No signup required. Just fill, download, and send.</p>
        <div class="hero-badges">
            <div class="hero-badge">
                <svg width="16" height="16" fill="currentColor" viewBox="0 0 16 16"><path d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"/></svg>
                100% Free
            </div>
            <div class="hero-badge">
                <svg width="16" height="16" fill="currentColor" viewBox="0 0 16 16"><path d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"/></svg>
                No Sign Up
            </div>
            <div class="hero-badge">
                <svg width="16" height="16" fill="currentColor" viewBox="0 0 16 16"><path d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"/></svg>
                PDF Export
            </div>
            <div class="hero-badge">
                <svg width="16" height="16" fill="currentColor" viewBox="0 0 16 16"><path d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"/></svg>
                Works Offline
            </div>
        </div>
    </section>

    <main class="main-container">
        <div class="form-panel">
            <!-- Template Selection -->
            <div class="section">
                <h2 class="section-title">Choose Template</h2>
                <div class="template-selector">
                    <div class="template-option active" onclick="selectTemplate('classic')" data-template="classic">
                        <div class="template-preview" style="background: linear-gradient(135deg, #6366f1 0%, #6366f1 30%, #f3f4f6 30%);"></div>
                        <div class="template-name">Classic</div>
                    </div>
                    <div class="template-option pro" onclick="openProModal()" data-template="modern">
                        <div class="template-preview" style="background: linear-gradient(180deg, #1f2937 0%, #1f2937 40%, #f3f4f6 40%);"></div>
                        <div class="template-name">Modern Dark</div>
                    </div>
                    <div class="template-option pro" onclick="openProModal()" data-template="minimal">
                        <div class="template-preview" style="background: linear-gradient(90deg, #22c55e 0%, #22c55e 8%, #f9fafb 8%);"></div>
                        <div class="template-name">Minimal</div>
                    </div>
                </div>
            </div>

            <!-- Your Business Info -->
            <div class="section">
                <h2 class="section-title">Your Business</h2>
                <div class="form-grid">
                    <div class="form-group full-width">
                        <label for="fromName">Business Name</label>
                        <input type="text" id="fromName" placeholder="Your Company Name">
                    </div>
                    <div class="form-group full-width">
                        <label for="fromAddress">Address</label>
                        <textarea id="fromAddress" placeholder="123 Business St&#10;City, State 12345"></textarea>
                    </div>
                    <div class="form-group">
                        <label for="fromEmail">Email</label>
                        <input type="email" id="fromEmail" placeholder="you@company.com">
                    </div>
                    <div class="form-group">
                        <label for="fromPhone">Phone</label>
                        <input type="tel" id="fromPhone" placeholder="+1 (555) 123-4567">
                    </div>
                </div>
            </div>

            <!-- Client Info -->
            <div class="section">
                <h2 class="section-title">Bill To</h2>
                <div class="form-grid">
                    <div class="form-group full-width">
                        <label for="toName">Client Name</label>
                        <input type="text" id="toName" placeholder="Client or Company Name">
                    </div>
                    <div class="form-group full-width">
                        <label for="toAddress">Client Address</label>
                        <textarea id="toAddress" placeholder="456 Client Ave&#10;City, State 67890"></textarea>
                    </div>
                    <div class="form-group">
                        <label for="toEmail">Client Email</label>
                        <input type="email" id="toEmail" placeholder="client@example.com">
                    </div>
                </div>
            </div>

            <!-- Invoice Details -->
            <div class="section">
                <h2 class="section-title">Invoice Details</h2>
                <div class="form-grid">
                    <div class="form-group">
                        <label for="invoiceNumber">Invoice Number</label>
                        <input type="text" id="invoiceNumber" placeholder="INV-001">
                    </div>
                    <div class="form-group">
                        <label for="currency">Currency</label>
                        <select id="currency">
                            <option value="$">$ USD</option>
                            <option value="â‚¬">â‚¬ EUR</option>
                            <option value="Â£">Â£ GBP</option>
                            <option value="Â¥">Â¥ JPY</option>
                            <option value="â‚¹">â‚¹ INR</option>
                            <option value="A$">A$ AUD</option>
                            <option value="C$">C$ CAD</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="invoiceDate">Invoice Date</label>
                        <input type="date" id="invoiceDate">
                    </div>
                    <div class="form-group">
                        <label for="dueDate">Due Date</label>
                        <input type="date" id="dueDate">
                    </div>
                </div>
            </div>

            <!-- Line Items -->
            <div class="section">
                <h2 class="section-title">Items</h2>
                <div class="line-items-header">
                    <span>Description</span>
                    <span>Qty</span>
                    <span>Rate</span>
                    <span>Amount</span>
                    <span></span>
                </div>
                <div id="lineItems"></div>
                <button class="btn-add-item" onclick="addLineItem()">+ Add Item</button>

                <div class="totals-config">
                    <div class="form-group">
                        <label for="taxRate">Tax Rate (%)</label>
                        <input type="number" id="taxRate" value="0" min="0" max="100" step="0.1">
                    </div>
                    <div class="form-group">
                        <label for="discountAmount">Discount</label>
                        <input type="number" id="discountAmount" value="0" min="0" step="0.01">
                    </div>
                </div>
            </div>

            <!-- Notes -->
            <div class="section">
                <h2 class="section-title">Notes</h2>
                <div class="form-group">
                    <label for="notes">Additional Notes (payment terms, thank you, etc.)</label>
                    <textarea id="notes" placeholder="Payment is due within 30 days. Thank you for your business!"></textarea>
                </div>
            </div>

            <!-- Actions -->
            <div class="actions">
                <button class="btn btn-secondary" onclick="clearForm()">Clear</button>
                <button class="btn btn-primary" onclick="downloadPDF()">Download PDF</button>
            </div>
        </div>

        <!-- Preview Panel -->
        <div class="preview-panel">
            <div class="preview-container">
                <div class="preview-header">
                    <span class="preview-title">Live Preview</span>
                    <button class="btn btn-secondary" style="padding: 0.375rem 0.75rem; font-size: 0.8125rem;" onclick="window.print()">Print</button>
                </div>
                <div class="invoice-preview" id="invoicePreview"></div>
            </div>
        </div>
    </main>

    <!-- Features Section -->
    <section class="features-section">
        <div class="features-container">
            <h2 class="features-title">Why Choose InvoiceFlow?</h2>
            <p class="features-subtitle">Everything you need to create professional invoices</p>
            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">âš¡</div>
                    <h3>Instant PDF Export</h3>
                    <p>Download professional PDF invoices with one click. No waiting, no email required.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">ðŸ’¾</div>
                    <h3>Auto-Save</h3>
                    <p>Your data is automatically saved to your browser. Never lose your work.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">ðŸ”’</div>
                    <h3>100% Private</h3>
                    <p>All data stays in your browser. We never see or store your invoices.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">ðŸ“±</div>
                    <h3>Works Everywhere</h3>
                    <p>Use on desktop, tablet, or phone. Works offline too.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">ðŸŽ¨</div>
                    <h3>Professional Design</h3>
                    <p>Clean, modern templates that make your business look great.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">ðŸ’±</div>
                    <h3>Multi-Currency</h3>
                    <p>Support for USD, EUR, GBP, and more. Bill clients worldwide.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="site-footer">
        <div class="footer-logo">InvoiceFlow</div>
        <div class="footer-links">
            <a href="#" onclick="openProModal(); return false;">Upgrade to Pro</a>
            <a href="mailto:support@invoiceflow.app">Contact</a>
            <a href="#">Privacy</a>
            <a href="#">Terms</a>
        </div>
        <p class="footer-copy">&copy; 2025 InvoiceFlow. Free invoice generator for everyone.</p>
    </footer>

    <!-- Pro Modal -->
    <div class="modal-overlay" id="proModal" onclick="closeProModal(event)">
        <div class="modal" onclick="event.stopPropagation()">
            <div class="modal-header" style="position: relative;">
                <button class="btn-close-modal" onclick="closeProModal()">&times;</button>
                <h2>Upgrade to Pro</h2>
                <p>Unlock premium templates and remove watermarks</p>
            </div>
            <div class="modal-body">
                <div class="pricing-toggle">
                    <button class="active" onclick="setPricing('monthly')" id="btn-monthly">Monthly</button>
                    <button onclick="setPricing('yearly')" id="btn-yearly">Yearly</button>
                </div>
                <div class="price-display">
                    <div class="price" id="price-amount">$9</div>
                    <div class="price-period" id="price-period">per month</div>
                    <div class="price-savings" id="price-savings" style="display: none;">Save 33% with yearly</div>
                </div>
                <ul class="pro-features">
                    <li><span class="check">âœ“</span> Remove InvoiceFlow watermark</li>
                    <li><span class="check">âœ“</span> 3 Premium invoice templates</li>
                    <li><span class="check">âœ“</span> Add your logo to invoices</li>
                    <li><span class="check">âœ“</span> Custom accent colors</li>
                    <li><span class="check">âœ“</span> Priority email support</li>
                </ul>
                <button class="btn btn-primary btn-checkout" onclick="checkout()">Get Pro Access</button>
                <p class="modal-footer">Secure payment via Stripe. Cancel anytime.</p>
            </div>
        </div>
    </div>

    <script>
        // State
        let lineItems = [];
        let saveTimeout = null;
        let currentPricing = 'monthly';
        let isPro = false;

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            loadSavedData();
            if (lineItems.length === 0) {
                addLineItem();
            }
            setDefaultDates();
            setupAutoSave();
            renderPreview();
            checkProStatus();
        });

        // Pro status (would connect to payment system)
        function checkProStatus() {
            isPro = localStorage.getItem('invoiceflow_pro') === 'true';
            if (isPro) {
                document.querySelector('.btn-upgrade').textContent = 'Pro âœ“';
                document.querySelector('.btn-upgrade').style.background = 'var(--green-500)';
            }
        }

        function openProModal() {
            document.getElementById('proModal').classList.add('active');
        }

        function closeProModal(event) {
            if (event && event.target !== event.currentTarget) return;
            document.getElementById('proModal').classList.remove('active');
        }

        function setPricing(type) {
            currentPricing = type;
            const monthly = document.getElementById('btn-monthly');
            const yearly = document.getElementById('btn-yearly');
            const amount = document.getElementById('price-amount');
            const period = document.getElementById('price-period');
            const savings = document.getElementById('price-savings');

            if (type === 'monthly') {
                monthly.classList.add('active');
                yearly.classList.remove('active');
                amount.textContent = '$9';
                period.textContent = 'per month';
                savings.style.display = 'none';
            } else {
                yearly.classList.add('active');
                monthly.classList.remove('active');
                amount.textContent = '$72';
                period.textContent = 'per year';
                savings.style.display = 'inline-block';
            }
        }

        function checkout() {
            // This would integrate with Stripe Checkout
            // For now, show a message
            alert('Payment integration coming soon! For now, enjoy the free version.');
            closeProModal();
        }

        // Template selection
        function selectTemplate(template) {
            document.querySelectorAll('.template-option').forEach(el => {
                el.classList.remove('active');
            });
            document.querySelector(`[data-template="${template}"]`).classList.add('active');
            renderPreview();
        }

        // Dates
        function setDefaultDates() {
            const today = new Date();
            const dueDate = new Date(today);
            dueDate.setDate(dueDate.getDate() + 30);

            if (!document.getElementById('invoiceDate').value) {
                document.getElementById('invoiceDate').value = formatDateForInput(today);
            }
            if (!document.getElementById('dueDate').value) {
                document.getElementById('dueDate').value = formatDateForInput(dueDate);
            }
        }

        function formatDateForInput(date) {
            return date.toISOString().split('T')[0];
        }

        function formatDate(dateString) {
            if (!dateString) return '';
            const date = new Date(dateString);
            return date.toLocaleDateString('en-US', {
                year: 'numeric',
                month: 'short',
                day: 'numeric'
            });
        }

        // Line Items
        function addLineItem() {
            const id = Date.now();
            lineItems.push({ id, description: '', quantity: 1, rate: 0 });
            renderLineItems();
            renderPreview();
        }

        function removeLineItem(id) {
            lineItems = lineItems.filter(item => item.id !== id);
            if (lineItems.length === 0) addLineItem();
            else {
                renderLineItems();
                renderPreview();
            }
        }

        function updateLineItem(id, field, value) {
            const item = lineItems.find(item => item.id === id);
            if (item) {
                item[field] = (field === 'quantity' || field === 'rate') ? (parseFloat(value) || 0) : value;
                renderLineItems();
                renderPreview();
            }
        }

        function renderLineItems() {
            const container = document.getElementById('lineItems');
            container.innerHTML = lineItems.map(item => `
                <div class="line-item">
                    <input type="text" placeholder="Description" value="${escapeHtml(item.description)}"
                        onchange="updateLineItem(${item.id}, 'description', this.value)">
                    <input type="number" placeholder="Qty" value="${item.quantity}" min="0"
                        onchange="updateLineItem(${item.id}, 'quantity', this.value)">
                    <input type="number" placeholder="Rate" value="${item.rate}" min="0" step="0.01"
                        onchange="updateLineItem(${item.id}, 'rate', this.value)">
                    <div class="line-item-total">${getCurrency()}${(item.quantity * item.rate).toFixed(2)}</div>
                    <button class="btn-remove-item" onclick="removeLineItem(${item.id})">
                        <svg width="18" height="18" fill="currentColor" viewBox="0 0 16 16">
                            <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>
                        </svg>
                    </button>
                </div>
            `).join('');
        }

        // Calculations
        function getSubtotal() {
            return lineItems.reduce((sum, item) => sum + (item.quantity * item.rate), 0);
        }

        function getTax() {
            return getSubtotal() * ((parseFloat(document.getElementById('taxRate').value) || 0) / 100);
        }

        function getDiscount() {
            return parseFloat(document.getElementById('discountAmount').value) || 0;
        }

        function getTotal() {
            return getSubtotal() + getTax() - getDiscount();
        }

        function getCurrency() {
            return document.getElementById('currency').value;
        }

        // Preview
        function renderPreview() {
            const currency = getCurrency();
            const validItems = lineItems.filter(item => item.description || item.rate > 0);
            const watermark = isPro ? '' : '<div class="invoice-footer">Created with <a href="https://invoiceflow.app" target="_blank">InvoiceFlow</a> - Free Invoice Generator</div>';

            document.getElementById('invoicePreview').innerHTML = `
                <div class="invoice-header">
                    <div>
                        <div class="invoice-title">INVOICE</div>
                        <div class="invoice-number">${escapeHtml(document.getElementById('invoiceNumber').value) || 'INV-001'}</div>
                    </div>
                    <div class="invoice-dates">
                        <p><strong>Date:</strong> ${formatDate(document.getElementById('invoiceDate').value)}</p>
                        <p><strong>Due:</strong> ${formatDate(document.getElementById('dueDate').value)}</p>
                    </div>
                </div>
                <div class="parties">
                    <div class="party">
                        <h3>From</h3>
                        <div class="party-name">${escapeHtml(document.getElementById('fromName').value) || 'Your Business'}</div>
                        <div class="party-details">${escapeHtml(document.getElementById('fromAddress').value) || ''}</div>
                        ${document.getElementById('fromEmail').value ? `<div class="party-details">${escapeHtml(document.getElementById('fromEmail').value)}</div>` : ''}
                        ${document.getElementById('fromPhone').value ? `<div class="party-details">${escapeHtml(document.getElementById('fromPhone').value)}</div>` : ''}
                    </div>
                    <div class="party">
                        <h3>Bill To</h3>
                        <div class="party-name">${escapeHtml(document.getElementById('toName').value) || 'Client Name'}</div>
                        <div class="party-details">${escapeHtml(document.getElementById('toAddress').value) || ''}</div>
                        ${document.getElementById('toEmail').value ? `<div class="party-details">${escapeHtml(document.getElementById('toEmail').value)}</div>` : ''}
                    </div>
                </div>
                <table class="invoice-table">
                    <thead><tr><th>Description</th><th>Qty</th><th>Rate</th><th>Amount</th></tr></thead>
                    <tbody>
                        ${validItems.length > 0 ? validItems.map(item => `
                            <tr>
                                <td>${escapeHtml(item.description) || 'Item'}</td>
                                <td>${item.quantity}</td>
                                <td>${currency}${item.rate.toFixed(2)}</td>
                                <td>${currency}${(item.quantity * item.rate).toFixed(2)}</td>
                            </tr>
                        `).join('') : '<tr><td colspan="4" style="text-align:center;color:var(--gray-400);">No items</td></tr>'}
                    </tbody>
                </table>
                <div class="invoice-totals">
                    <div class="totals-table">
                        <div class="row"><span>Subtotal</span><span>${currency}${getSubtotal().toFixed(2)}</span></div>
                        ${getTax() > 0 ? `<div class="row"><span>Tax (${document.getElementById('taxRate').value}%)</span><span>${currency}${getTax().toFixed(2)}</span></div>` : ''}
                        ${getDiscount() > 0 ? `<div class="row"><span>Discount</span><span>-${currency}${getDiscount().toFixed(2)}</span></div>` : ''}
                        <div class="row total"><span>Total</span><span class="amount">${currency}${getTotal().toFixed(2)}</span></div>
                    </div>
                </div>
                ${document.getElementById('notes').value ? `<div class="invoice-notes"><h4>Notes</h4><p>${escapeHtml(document.getElementById('notes').value)}</p></div>` : ''}
                ${watermark}
            `;
            scheduleSave();
        }

        // Auto-save
        function setupAutoSave() {
            document.querySelectorAll('input, textarea, select').forEach(input => {
                input.addEventListener('input', renderPreview);
                input.addEventListener('change', renderPreview);
            });
        }

        function scheduleSave() {
            const indicator = document.getElementById('saveIndicator');
            indicator.querySelector('span').textContent = 'Saving...';
            if (saveTimeout) clearTimeout(saveTimeout);
            saveTimeout = setTimeout(() => {
                saveData();
                indicator.querySelector('span').textContent = 'Saved';
            }, 500);
        }

        function saveData() {
            localStorage.setItem('invoiceData', JSON.stringify({
                fromName: document.getElementById('fromName').value,
                fromAddress: document.getElementById('fromAddress').value,
                fromEmail: document.getElementById('fromEmail').value,
                fromPhone: document.getElementById('fromPhone').value,
                toName: document.getElementById('toName').value,
                toAddress: document.getElementById('toAddress').value,
                toEmail: document.getElementById('toEmail').value,
                invoiceNumber: document.getElementById('invoiceNumber').value,
                currency: document.getElementById('currency').value,
                invoiceDate: document.getElementById('invoiceDate').value,
                dueDate: document.getElementById('dueDate').value,
                taxRate: document.getElementById('taxRate').value,
                discountAmount: document.getElementById('discountAmount').value,
                notes: document.getElementById('notes').value,
                lineItems
            }));
        }

        function loadSavedData() {
            const saved = localStorage.getItem('invoiceData');
            if (saved) {
                try {
                    const data = JSON.parse(saved);
                    document.getElementById('fromName').value = data.fromName || '';
                    document.getElementById('fromAddress').value = data.fromAddress || '';
                    document.getElementById('fromEmail').value = data.fromEmail || '';
                    document.getElementById('fromPhone').value = data.fromPhone || '';
                    document.getElementById('toName').value = data.toName || '';
                    document.getElementById('toAddress').value = data.toAddress || '';
                    document.getElementById('toEmail').value = data.toEmail || '';
                    document.getElementById('invoiceNumber').value = data.invoiceNumber || '';
                    document.getElementById('currency').value = data.currency || '$';
                    document.getElementById('invoiceDate').value = data.invoiceDate || '';
                    document.getElementById('dueDate').value = data.dueDate || '';
                    document.getElementById('taxRate').value = data.taxRate || '0';
                    document.getElementById('discountAmount').value = data.discountAmount || '0';
                    document.getElementById('notes').value = data.notes || '';
                    lineItems = data.lineItems || [];
                    renderLineItems();
                } catch (e) {}
            }
        }

        function clearForm() {
            if (confirm('Clear all data?')) {
                localStorage.removeItem('invoiceData');
                location.reload();
            }
        }

        // PDF Generation
        async function downloadPDF() {
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF('portrait', 'mm', 'a4');
            const currency = getCurrency();
            const pageWidth = doc.internal.pageSize.getWidth();
            const margin = 20;
            let y = 20;

            const primary = [99, 102, 241];
            const dark = [31, 41, 55];
            const medium = [107, 114, 128];
            const light = [156, 163, 175];

            // Title
            doc.setFontSize(28);
            doc.setTextColor(...primary);
            doc.setFont('helvetica', 'bold');
            doc.text('INVOICE', margin, y);

            y += 8;
            doc.setFontSize(11);
            doc.setTextColor(...medium);
            doc.setFont('helvetica', 'normal');
            doc.text(document.getElementById('invoiceNumber').value || 'INV-001', margin, y);

            // Dates
            doc.setFontSize(10);
            doc.setTextColor(...dark);
            doc.text(`Date: ${formatDate(document.getElementById('invoiceDate').value)}`, pageWidth - margin, 20, { align: 'right' });
            doc.text(`Due: ${formatDate(document.getElementById('dueDate').value)}`, pageWidth - margin, 26, { align: 'right' });

            // From
            y = 45;
            doc.setFontSize(8);
            doc.setTextColor(...light);
            doc.setFont('helvetica', 'bold');
            doc.text('FROM', margin, y);
            y += 5;
            doc.setFontSize(11);
            doc.setTextColor(...dark);
            doc.text(document.getElementById('fromName').value || 'Your Business', margin, y);
            y += 5;
            doc.setFontSize(9);
            doc.setTextColor(...medium);
            doc.setFont('helvetica', 'normal');
            const fromAddr = document.getElementById('fromAddress').value;
            if (fromAddr) fromAddr.split('\n').forEach(line => { doc.text(line, margin, y); y += 4; });
            if (document.getElementById('fromEmail').value) { doc.text(document.getElementById('fromEmail').value, margin, y); y += 4; }
            if (document.getElementById('fromPhone').value) doc.text(document.getElementById('fromPhone').value, margin, y);

            // To
            let toY = 45;
            const toX = pageWidth / 2 + 10;
            doc.setFontSize(8);
            doc.setTextColor(...light);
            doc.setFont('helvetica', 'bold');
            doc.text('BILL TO', toX, toY);
            toY += 5;
            doc.setFontSize(11);
            doc.setTextColor(...dark);
            doc.text(document.getElementById('toName').value || 'Client', toX, toY);
            toY += 5;
            doc.setFontSize(9);
            doc.setTextColor(...medium);
            doc.setFont('helvetica', 'normal');
            const toAddr = document.getElementById('toAddress').value;
            if (toAddr) toAddr.split('\n').forEach(line => { doc.text(line, toX, toY); toY += 4; });
            if (document.getElementById('toEmail').value) doc.text(document.getElementById('toEmail').value, toX, toY);

            // Table
            y = Math.max(y, toY) + 15;
            doc.setFillColor(249, 250, 251);
            doc.rect(margin, y - 4, pageWidth - margin * 2, 8, 'F');
            doc.setFontSize(8);
            doc.setTextColor(...medium);
            doc.setFont('helvetica', 'bold');
            doc.text('DESCRIPTION', margin + 2, y);
            doc.text('QTY', margin + 95, y);
            doc.text('RATE', margin + 115, y);
            doc.text('AMOUNT', pageWidth - margin - 2, y, { align: 'right' });

            y += 8;
            doc.setFont('helvetica', 'normal');
            doc.setFontSize(10);
            lineItems.filter(item => item.description || item.rate > 0).forEach(item => {
                doc.setTextColor(...dark);
                doc.text(item.description || 'Item', margin + 2, y);
                doc.setTextColor(...medium);
                doc.text(item.quantity.toString(), margin + 95, y);
                doc.text(`${currency}${item.rate.toFixed(2)}`, margin + 115, y);
                doc.setTextColor(...dark);
                doc.text(`${currency}${(item.quantity * item.rate).toFixed(2)}`, pageWidth - margin - 2, y, { align: 'right' });
                y += 2;
                doc.setDrawColor(243, 244, 246);
                doc.line(margin, y, pageWidth - margin, y);
                y += 6;
            });

            // Totals
            y += 5;
            const totalsX = pageWidth - margin - 60;
            doc.setFontSize(10);
            doc.setTextColor(...medium);
            doc.text('Subtotal', totalsX, y);
            doc.setTextColor(...dark);
            doc.text(`${currency}${getSubtotal().toFixed(2)}`, pageWidth - margin - 2, y, { align: 'right' });
            if (getTax() > 0) {
                y += 6;
                doc.setTextColor(...medium);
                doc.text(`Tax (${document.getElementById('taxRate').value}%)`, totalsX, y);
                doc.setTextColor(...dark);
                doc.text(`${currency}${getTax().toFixed(2)}`, pageWidth - margin - 2, y, { align: 'right' });
            }
            if (getDiscount() > 0) {
                y += 6;
                doc.setTextColor(...medium);
                doc.text('Discount', totalsX, y);
                doc.setTextColor(...dark);
                doc.text(`-${currency}${getDiscount().toFixed(2)}`, pageWidth - margin - 2, y, { align: 'right' });
            }
            y += 4;
            doc.setDrawColor(229, 231, 235);
            doc.line(totalsX - 5, y, pageWidth - margin, y);
            y += 8;
            doc.setFontSize(12);
            doc.setFont('helvetica', 'bold');
            doc.setTextColor(...dark);
            doc.text('Total', totalsX, y);
            doc.setTextColor(...primary);
            doc.text(`${currency}${getTotal().toFixed(2)}`, pageWidth - margin - 2, y, { align: 'right' });

            // Notes
            const notes = document.getElementById('notes').value;
            if (notes) {
                y += 20;
                doc.setFontSize(8);
                doc.setTextColor(...light);
                doc.setFont('helvetica', 'bold');
                doc.text('NOTES', margin, y);
                y += 5;
                doc.setFontSize(9);
                doc.setTextColor(...medium);
                doc.setFont('helvetica', 'normal');
                doc.text(doc.splitTextToSize(notes, pageWidth - margin * 2), margin, y);
            }

            // Watermark
            if (!isPro) {
                doc.setFontSize(8);
                doc.setTextColor(...light);
                doc.text('Created with InvoiceFlow - invoiceflow.app', pageWidth / 2, 285, { align: 'center' });
            }

            doc.save(`${document.getElementById('invoiceNumber').value || 'invoice'}.pdf`);
        }

        function escapeHtml(text) {
            if (!text) return '';
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }
    </script>
</body>
</html>
